<div *ngIf="!direct">
  <div *ngIf="!id">
      <h1>Upload File</h1>
    <form (submit)="upload()" enctype="multipart/form-data">
      <div class="form-group">
        <label for="fileInput">Choose file</label>
        <input type="file" id="fileInput" (change)="onFileSelected($event)" class="form-control" />
      </div>

      <div class="form-group">
        <label>
          <input type="checkbox" [(ngModel)]="useOriginalName" name="useOriginalName" />
          Use original file name
        </label>
      </div>

      <button type="submit" class="btn btn-primary">Upload</button>
    </form>
  </div>
</div>
<div *ngIf="id">
  <div *ngIf="fileExtension">
    <!-- Images -->
    <img *ngIf="['png', 'jpg', 'jpeg', 'gif', 'webp'].includes(fileExtension)" [src]="fileUrl" alt="Image" class="img-fluid files-preview" />

    <!-- Video -->
    <video *ngIf="['mp4', 'webm', 'ogg'].includes(fileExtension)" [src]="fileUrl" controls class="files-preview"></video>

    <!-- Audio -->
    <audio *ngIf="['mp3', 'wav', 'ogg'].includes(fileExtension)" [src]="fileUrl" controls></audio>

    <!-- Download for other file types -->
    <div *ngIf="['jar', 'zip', 'exe', 'pdf', 'txt'].includes(fileExtension)" style="display: inline-block" >
      <pdf-viewer
        [src]="fileUrl"
        *ngIf="['pdf'].includes(fileExtension)"
        [render-text]="true"
        [original-size]="true"
        (page-rendered)="onPageRendered($event)"
        style="width: 100%; display: inline-block; height: 75vh;"
      ></pdf-viewer>

      <div *ngIf="direct">
        <p>Download the file below:</p>
        <a [href]="fileUrl" download class="btn btn-primary">Download</a>
      </div>
    </div>

    <!-- Fallback -->
    <div *ngIf="!['png','jpg','jpeg','gif','webp','mp4','webm','ogg','mp3','wav','jar','zip','exe','pdf','txt'].includes(fileExtension) && direct">
      <p>Unsupported file type.</p>
      <a [href]="fileUrl" download class="btn btn-secondary">Try Downloading</a>
    </div>
  </div>
</div>



